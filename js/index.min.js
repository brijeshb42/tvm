function NavController(e){e.selectedNav=0,e.navItems=[{href:"#todayList",title:"Latest"},{href:"#addShow",title:"Add Shows"},{href:"#showList",title:"All Shows"}],e.changeView=function(o){e.selectedNav=o,1==e.selectedNav}}function SearchShowsController(e,o){e.epi=!0,e.img=!0,e.msg="",e.class="message",e.shows=[],e.isShown=!1,e.getShows=function(){e.shows=[],""==e.searchName?(e.msg="Enter a show to search for.",e.class="error",e.shows=[],e.isShown=!1):(e.msg="Searching for "+e.searchName,e.class="message",o({method:"GET",url:u.search+e.searchName}).success(function(o){e.msg="",e.isShown=!0,e.shows=o}).error(function(){e.msg="There was an error. Try again.",e.class="error",e.isShown=!1,e.shows=[]}))},e.saveShow=function(o){var n=e.shows[o];n.showid=n.tvdb_id,delete n.tvdb_id,tv.network.getAllData(n)}}function UpcomingController(e){e.shows=[],e.info="Loading shows...",e.noUpcoming=!0,e.noUpcoming=e.shows.length>0?!1:!0,e.formatDate=function(e){return tv.ui.formatDate(e)},e.dayType=function(e){var o=tv.ui.getDate(0);return o>e?"yesterday":e==o?"today":e>o?"yet-to-come":void 0},e.showBtn=function(){return!0},e.updateEpisode=function(e,o){tv.network.getEpisode(e,o)}}function ShowListController(e){e.shows=[],e.info="Loading shows...",e.noAdded=!0,e.deletedIndex=null,e.noAdded=e.shows.length>0?!1:!0,e.status=function(e){return e?"Ended":"Continuing"},e.deleteShow=function(o){$.confirm({message:"Do you want to delete "+e.shows[o].data.title+" ?",okText:"Yes",cancelText:"No",onconfirm:function(){tv.indexedDB.deleteShowComplete(e.shows[o].data.showid)}})},e.showInfo=function(o){var n=angular.element($("body")).scope();n.changeView(3);var t=angular.element($("#showInfo")).scope();t.show=e.shows[o],t.episode={}}}function ShowInfoController(e){e.show={},e.episode={name:"",overview:"",airdate:""},e.showDetails=!1,e.error=!1,e.message="Enter both season and episode number.",e.getBack=function(){var e=angular.element($("body")).scope();e.changeView(2)},e.status=function(e){return e?"Ended":"Continuing"},e.getEpisode=function(){return e.seasonNum&&e.episodeNum&&""!=e.seasonNum&&""!=e.episodeNum?(e.error=!1,e.showDetails=!0,tv.indexedDB.getEpisodeDetail(e.show.data.showid,e.seasonNum,e.episodeNum),void 0):(e.error=!0,e.showDetails=!1,e.message="Enter both season and episode number.",void 0)},e.getDate=function(e){return!e||e.length<10?"":"Premiered on: "+tv.ui.formatDate(e)}}!function(e){e(window).load(function(){e("a").on("click",function(){return!1}),e("#content").slimscroll({height:"475px",railVisible:!0}),e(document).on("contextmenu",function(e){e.preventDefault()}),tv.indexedDB.open()})}(jQuery);