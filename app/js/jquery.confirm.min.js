!function(n){n.extend({confirm:function(e){function o(e){e&&e(),t.fadeOut(300,function(){n(this).remove()}),n(document).unbind("keydown")}var a="confirmDialog",d={message:"Are you sure?",okText:"OK",cancelText:"Cancel",overlay:!0,onconfirm:null,oncancel:null},e=n.extend(d,e);n(document).bind("keydown",function(n){27==n.keyCode&&o()}),n("."+a).length>0&&n("."+a).remove();var t=n("<div></div>");t.addClass(a).hide().appendTo(n("body")),e.overlay&&($overlay=n("<div></div>").addClass("overlay"),$overlay.click(function(){o()}),t.append($overlay)),$content=n("<div></div>").addClass("content"),$message=n("<div></div>").addClass("message"),$message.html(e.message),$footer=n("<div></div>").addClass("footer"),$controls=n("<div></div>").addClass("controls"),$okBtn=n("<button></button>").addClass("ok").html(e.okText),$okBtn.click(function(){o(e.onconfirm)}),$cancelBtn=n("<button></button>").addClass("error").html(e.cancelText),$cancelBtn.click(function(){o(e.oncancel)}),$controls.append($okBtn).append($cancelBtn).appendTo($footer),$content.append($message).append($footer).appendTo(t),t.fadeIn(300)}})}(jQuery);